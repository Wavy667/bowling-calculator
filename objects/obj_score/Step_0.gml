var _total_score = 0;

for (var i = 0; i < current_frame+1; i++) {
	if (i != 9) {
		if (global.roll[frame[i].roll1] == 10) {
			if (array_length(global.roll)-1 >= frame[i].roll1+2) {
				_total_score = _total_score + 10 + global.roll[frame[i].roll1+1] + global.roll[frame[i].roll1+2];
			} else {
				_total_score = -1; // set to -1 so we know were in the midst of calculating
			}
		} else if (global.roll[frame[i].roll1] + global.roll[frame[i].roll2] == 10) {
			if (array_length(global.roll)-1 >= frame[i].roll1+2) {
				_total_score = _total_score + 10 + global.roll[frame[i].roll1+2];
			} else {
				_total_score = -1;
			}
		} else {
			_total_score = _total_score + global.roll[frame[i].roll1] + global.roll[frame[i].roll2];
		}
	} else {
		_total_score = _total_score + global.roll[frame[i].roll1] + global.roll[frame[i].roll2] + global.roll[frame[i].roll3];
	}
	frame[i].total = _total_score;
}










































































































































































































































































































































































